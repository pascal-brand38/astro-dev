---
// Copyright (c) Pascal Brand
// MIT License
//

import { Swiper, SwiperWrapper, SwiperSlide, SwiperPagination } from "astro-swiper";
import './demo.css'
import DemoFirstSlide from "./DemoFirstSlide.astro";

const title="Pagination Custom"

---

<Swiper
  class="my-swiper"
  uniqueClass="swiper-demo-pagination-custom"
  options={{
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
      // renderBullet is a function, initialized in the script part
    },
    // initialization will be performed manually in the script part,
    // once renderBullet is defined
    init: false,
  }}
>
  <SwiperWrapper>
    <SwiperSlide> <div class="my-slide"> <DemoFirstSlide title={title}/> </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> <img src="/astro-dev/astro-swiper.png" alt="" /> </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 3 </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 4 </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 5 </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 6 </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 7 </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 8 </div> </SwiperSlide>
    <SwiperSlide> <div class="my-slide"> Slide 9 </div> </SwiperSlide>
  </SwiperWrapper>

  <SwiperPagination />
</Swiper>

<script>
  import type { PaginationOptions } from 'swiper/types';
  import { getSwiperFromUniqueSelector } from 'astro-swiper'
  window.addEventListener('load', () => {
    const swiper = getSwiperFromUniqueSelector('.swiper-demo-pagination-custom');
    (swiper!.params.pagination as PaginationOptions)!.renderBullet = function (index: number, className: string) {
      return '<span class="' + className + '">' + (index + 1) + "</span>";
    }
    swiper!.init()
  })
</script>

<style is:global>
  .swiper-demo-pagination-custom  .swiper-pagination-bullet {
    width: 20px;
    height: 20px;
    text-align: center;
    line-height: 20px;
    font-size: 12px;
    color: #000;
    opacity: 1;
    background: rgba(0, 0, 0, 0.2);
  }

  .swiper-demo-pagination-custom .swiper-pagination-bullet-active {
    color: #fff;
    background: #007aff;
  }
</style>
