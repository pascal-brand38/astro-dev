---
// Copyright (c) Pascal Brand
// MIT License

import { Leaflet, CreateLeafletIcon } from "astro-leaflet";
import type {AstroLeafletOptionsType, AstroLeafletMarkerType}  from 'astro-leaflet';
import type { LatLngTuple } from 'leaflet'
import data from './tour-de-france-2025.json'

// default marker on Paris. when hovered, display 'Paris'
// custom icon on New York
const markers: AstroLeafletMarkerType[] = []
markers.push( {latlng: data[0] as LatLngTuple, options: {title: 'Start'}} )
markers.push( {latlng: data[data.length-1] as LatLngTuple, options: {title: 'End'}} )

// markers.push( {latlng: data[data.length-1], options: {title: 'End'}} )

const options: AstroLeafletOptionsType = {
	tileLayer: 'https://{s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}',
	tileLayerOptions: {
		subdomains: [ 'mt0', 'mt1', 'mt2', 'mt3' ],
		attribution: 'Map data &copy; Google',
	},
	markers: markers,
}

---

<CreateLeafletIcon name='myicon-name' options={{className:"leaflet-icon-myicon", iconSize: [20,20]}}/>
<Leaflet options={options}/>
